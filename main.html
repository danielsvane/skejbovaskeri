<head>
  <title>Booking</title>
</head>

<body>
  <div class="row-fluid">
    <div class="span12">
      <div class="navbar navbar">
        <div class="navbar-inner">
          <a class="brand" href="#">Booking</a>
          {{loginButtons}}
        </div>
      </div>

      {{> reservations}}
    </div>
  </div>
</body>

<template name="reservations">

  {{#each reservations}}
    <div>{{this._id}}</div>
  {{/each}}

  <table class="table table-striped table-bordered">
    <tr>
      <td>
        Time
      </td>
      {{#each machines}}
        <td>
          {{title}}
        </td>
      {{/each}}
    </tr>

    {{#each grid}}
      <tr>
        <td>
          {{hour}}
        </td>
        {{#each reservations}}
          <td>
            {{#with reservation}}
              {{#if currentUsersReservation}}
                <span class="label label-success clear-reservation">Reserved <i class="icon-remove icon-white"></i></span>
                <!-- <button class="btn btn-mini btn-danger clear-reservation">x</button> -->
              {{else}}
                <span class="label label-warning">Reserved</span>
              {{/if}}
            {{else}}
              {{#if currentUser}}
                <button class="btn btn-primary reserve">Reserve <i class="icon-plus icon-white"></i></button>
              {{else}}
                <span class="label">Free</span>
              {{/if}}
            {{/with}}
          </td>
        {{/each}}
      </tr>
    {{/each}}

  </table>

</template>
